Name      : doBackup
License   : The MIT License (MIT)
Goal      : Makes directory backups, for example your home directory, compressed with tar.bz2
Operation : At the beginning of each month makes a full backup and every day of the month makes an incremental backup.
            The scrip verifies if exist the full backup of this month.
            If there isn't, makes the full backup, but if there is the full backup, makes an incremental backup since the last.
            Also create log files with a list of the content of backup files.
            Although you execute the script several blows at the same day, it only does one backup every day.
            You can create a exclusion file where you can establish all the files that you will not want to copy.
            You can config the persistence period of the backups. Backups beyond this period will be deleted.
Requires  : 'config_doBackup' is a text file with 4 lines
            The fist line must contain the 'source backup folder'. Example: /home/user
            The second line must contain the 'target backup folder'. Example: /smb/bck/user
            The third line can contain the 'exclusion file' or nothing, is optional. If you does not want use the 'exclusion file' you must leave a blank line
            The fourth line can contain the 'persistence period' expressed 
            in days. Is optional but if is null, the default is 120.
Files out : The monthly full backup name is 'year-month-0-hostname-full.tar.bz2'
            The monthly full backup log is  'year-month-0-hostname.log'
            The incremental backup name is  'year-month-day-hostname-inc.tar.bz2'
            The incremental backup log is   'year-month-day-hostname.log'
            There is a monthly .snap file that maintains the list of files to be copied to the incremental backups
Automation: To automate the backup, run this script from /etc/rc.local (as root) or ~/.bashrc (as user) to make the backup when the computer is power on. 
            Or put in the crontab like: @reboot cd /root/backup/ ; /usr/bin/nice -n 19 /usr/bin/ionice -c2 -n7 /bin/bash /root/backup/doBackup 2>/root/backup/backup.err
Usage     : ./doBackup &

